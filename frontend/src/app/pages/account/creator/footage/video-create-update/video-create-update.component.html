<form (ngSubmit)="save()" [formGroup]="form" >
    <div fxLayout="row" fxLayoutAlign="start center" mat-dialog-title>
        <!--    <img *ngIf="form.get('imageSrc').value" [src]="form.get('imageSrc').value" class="avatar mr-5">-->

        <h2 *ngIf="form.get('title').value"
            class="headline m-0"
            fxFlex="auto">{{form.get('title').value}}</h2>
        <h2 *ngIf="!form.get('title').value"
            class="headline m-0"
            fxFlex="auto">Neues Video</h2>

        <!--    <button [matMenuTriggerFor]="settingsMenu" class="text-secondary" mat-icon-button type="button">-->
        <!--      <mat-icon [icIcon]="icMoreVert"></mat-icon>-->
        <!--    </button>-->

        <!--    <button class="text-secondary" mat-dialog-close mat-icon-button type="button">-->
        <!--      <mat-icon [icIcon]="icClose"></mat-icon>-->
        <!--    </button>-->
    </div>

    <mat-divider class="-mx-6 text-border"></mat-divider>

    <mat-dialog-content fxLayout="column">
        <div class="flex flex-col sm:flex-row">
            <mat-form-field appearance="standard" class="mt-6 flex-auto">
                <mat-label>Titel</mat-label>
                <input cdkFocusInitial formControlName="title" matInput>

                <mat-icon class="mr-3" matPrefix>title</mat-icon>
            </mat-form-field>
        </div>

        <mat-form-field appearance="standard" class="flex-auto">
            <mat-label>Ort</mat-label>
            <input cdkFocusInitial formControlName="location" matInput>
            <mat-icon class="mr-3" matPrefix>place</mat-icon>
        </mat-form-field>

        <ngx-dropzone (change)="onSelect($event)">
            <ngx-dropzone-label>Ziehe deine Aufnahmen hier rein oder klicke hier!</ngx-dropzone-label>
            <ngx-dropzone-preview *ngFor="let f of files" [removable]="true" (removed)="onRemove(f)">
                <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
            </ngx-dropzone-preview>
        </ngx-dropzone>

        <!--    Formats -->
        <mat-form-field class="mt-6" appearance="outline">
            <mat-label>Formate</mat-label>
            <mat-chip-list #chipList aria-label="Fruit selection">
                <mat-chip
                        *ngFor="let fruit of fruits"
                        [selectable]="selectable"
                        [removable]="removable"
                        (removed)="remove(fruit)">
                    {{fruit}}
                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input
                        placeholder="Weiteres Format..."
                        #fruitInput
                        [formControl]="fruitCtrl"
                        [matAutocomplete]="auto"
                        [matChipInputFor]="chipList"
                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                        (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                <mat-option *ngFor="let fruit of filteredFruits | async" [value]="fruit">
                    {{fruit}}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <!--    Categories -->
        <mat-form-field class="mt-6" appearance="outline">
            <mat-label>Kategorie</mat-label>
            <mat-chip-list #chipList aria-label="Fruit selection">
                <mat-chip
                        *ngFor="let fruit of fruits"
                        [selectable]="selectable"
                        [removable]="removable"
                        (removed)="remove(fruit)">
                    {{fruit}}
                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input
                        placeholder="Weiteres Format..."
                        #fruitInput
                        [formControl]="fruitCtrl"
                        [matAutocomplete]="auto"
                        [matChipInputFor]="chipList"
                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                        (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                <mat-option *ngFor="let fruit of filteredFruits | async" [value]="fruit">
                    {{fruit}}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <!--    Tags -->
        <mat-form-field class="mt-6" appearance="outline">
            <mat-label>Tags</mat-label>
            <mat-chip-list #chipList aria-label="Fruit selection">
                <mat-chip
                        *ngFor="let fruit of fruits"
                        [selectable]="selectable"
                        [removable]="removable"
                        (removed)="remove(fruit)">
                    {{fruit}}
                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input
                        placeholder="Weiteres Format..."
                        #fruitInput
                        [formControl]="fruitCtrl"
                        [matAutocomplete]="auto"
                        [matChipInputFor]="chipList"
                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                        (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                <mat-option *ngFor="let fruit of filteredFruits | async" [value]="fruit">
                    {{fruit}}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <!--    Resolution -->
        <mat-form-field class="mt-6" appearance="outline">
            <mat-label>Auflösung</mat-label>
            <mat-chip-list #chipList aria-label="Fruit selection">
                <mat-chip
                        *ngFor="let fruit of fruits"
                        [selectable]="selectable"
                        [removable]="removable"
                        (removed)="remove(fruit)">
                    {{fruit}}
                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input
                        placeholder="Weiteres Format..."
                        #fruitInput
                        [formControl]="fruitCtrl"
                        [matAutocomplete]="auto"
                        [matChipInputFor]="chipList"
                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                        (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                <mat-option *ngFor="let fruit of filteredFruits | async" [value]="fruit">
                    {{fruit}}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <!--    FPS-->
        <mat-form-field class="mt-6" appearance="outline">
            <mat-label>Bildrate</mat-label>
            <mat-chip-list #chipList aria-label="Fruit selection">
                <mat-chip
                        *ngFor="let fruit of fruits"
                        [selectable]="selectable"
                        [removable]="removable"
                        (removed)="remove(fruit)">
                    {{fruit}}
                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input
                        placeholder="Weiteres Format..."
                        #fruitInput
                        [formControl]="fruitCtrl"
                        [matAutocomplete]="auto"
                        [matChipInputFor]="chipList"
                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                        (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                <mat-option *ngFor="let fruit of filteredFruits | async" [value]="fruit">
                    {{fruit}}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <!--    LENGTH-->
        <mat-form-field class="mt-6" appearance="outline">
            <mat-label>Länge</mat-label>
            <mat-chip-list #chipList aria-label="Fruit selection">
                <mat-chip
                        *ngFor="let fruit of fruits"
                        [selectable]="selectable"
                        [removable]="removable"
                        (removed)="remove(fruit)">
                    {{fruit}}
                    <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                </mat-chip>
                <input
                        placeholder="Weiteres Format..."
                        #fruitInput
                        [formControl]="fruitCtrl"
                        [matAutocomplete]="auto"
                        [matChipInputFor]="chipList"
                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                        (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
                <mat-option *ngFor="let fruit of filteredFruits | async" [value]="fruit">
                    {{fruit}}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <!--    <mat-form-field>-->
        <!--      <mat-label>Format</mat-label>-->
        <!--      <input [formControl]="stateCtrl" [matAutocomplete]="auto" matInput>-->
        <!--      <mat-autocomplete #auto="matAutocomplete">-->
        <!--        <mat-option *ngFor="let state of filteredStates$ | async" [value]="state.name">-->
        <!--          <span class="body-1">{{ state.name }}</span>-->
        <!--        </mat-option>-->
        <!--      </mat-autocomplete>-->

        <!--      <button class="text-secondary" mat-icon-button matSuffix type="button">-->
        <!--        <mat-icon>arrow_drop_down</mat-icon>-->
        <!--      </button>-->

        <!--      <mat-hint>Wähle das entsprechende Format aus oder trage es ein.</mat-hint>-->
        <!--    </mat-form-field>-->

        <!--    <div class="flex flex-col sm:flex-row">-->
        <!--      <mat-form-field class="flex-auto">-->
        <!--        <mat-label>Zipcode</mat-label>-->
        <!--        <input formControlName="zipcode" matInput>-->

        <!--        <mat-icon [icIcon]="icMyLocation" class="mr-3" matPrefix></mat-icon>-->
        <!--      </mat-form-field>-->

        <!--      <mat-form-field class="sm:ml-6 flex-auto">-->
        <!--        <mat-label>City</mat-label>-->
        <!--        <input formControlName="city" matInput>-->

        <!--        <mat-icon [icIcon]="icLocationCity" class="mr-3" matPrefix></mat-icon>-->
        <!--      </mat-form-field>-->
        <!--    </div>-->

        <!--    <mat-form-field class="flex-auto">-->
        <!--      <mat-label>Phone Number</mat-label>-->
        <!--      <input formControlName="phoneNumber" matInput>-->

        <!--      <mat-icon [icIcon]="icPhone" class="mr-3" matPrefix></mat-icon>-->
        <!--    </mat-form-field>-->

        <!--    <mat-form-field class="flex-auto">-->
        <!--      <mat-label>Notes</mat-label>-->
        <!--      <textarea formControlName="notes" matInput></textarea>-->
        <!--    </mat-form-field>-->
    </mat-dialog-content>

    <mat-dialog-actions align="end">
        <button mat-button mat-dialog-close type="button">CANCEL</button>
        <button *ngIf="isCreateMode()" color="primary" mat-button type="submit">CREATE CUSTOMER</button>
        <button *ngIf="isUpdateMode()" color="primary" mat-button type="submit">UPDATE CUSTOMER</button>
    </mat-dialog-actions>
</form>

<!--<mat-menu #settingsMenu="matMenu" xPosition="before" yPosition="below">-->
<!--  <button mat-menu-item>-->
<!--    <mat-icon [icIcon]="icPrint"></mat-icon>-->
<!--    <span>Print</span>-->
<!--  </button>-->

<!--  <button mat-menu-item>-->
<!--    <mat-icon [icIcon]="icDownload"></mat-icon>-->
<!--    <span>Export</span>-->
<!--  </button>-->

<!--  <button mat-menu-item>-->
<!--    <mat-icon [icIcon]="icDelete"></mat-icon>-->
<!--    <span>Delete</span>-->
<!--  </button>-->
<!--</mat-menu>-->
