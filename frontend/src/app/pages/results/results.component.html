<div class="w-full  p-gutter pt-14 container overflow-auto h-screen relative" fxLayout="column" fxFill infiniteScroll
     [infiniteScrollDistance]="1"
     [infiniteScrollThrottle]="50"
     [scrollWindow]="false"
     (scrolled)="loadMore()">
    <div class="sticky top-0 h-12 w-full z-10 backdrop-blur">
        <dg-sort-bar></dg-sort-bar>
    </div>
    <section fxLayout="row" fxLayoutGap="24px">
        <div fxLayout="column" fxFlex="250px">
            <div class="sticky top-12 text-center shadow-md bg-white pb-8 z-10">
                <dg-tree-checkboxes></dg-tree-checkboxes>
                <div fxLayout="column" fxLayoutAlign="center center">
                    <button *ngIf="!(userService.user$ | async)" mat-flat-button color="primary" routerLink="register"
                            class="mt-8">Starten
                    </button>
                    <button *ngIf="userService.user$ | async" mat-flat-button color="primary" routerLink="pricing"
                            class="mt-8">Preise
                    </button>
                    <button mat-button color="primary" routerLink="creators" class="mt-8">Alle Piloten</button>
                </div>
            </div>
        </div>
        <div fxLayout="column" fxFlex="auto" *ngIf="videoService.videos$ | async as videos">
            <dg-video-grid [videos]="videos"></dg-video-grid>
            <div *ngIf="videoService.isLoading$ | async" fxLayout="row" fxLayoutAlign="center center" class="w-full h-20">
                <mat-spinner diameter="30"></mat-spinner>
            </div>
            <div *ngIf="videoService.endOfResults$ | async" fxLayout="row" fxLayoutAlign="center center" class="w-full h-20">
               end of results
            </div>
        </div>
    </section>
</div>
