<div class="p-6 h-lg">
    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="20px">
        <div fxFlex="auto" fxLayoutAlign="center center">
            <form (ngSubmit)="send()" class="px-6 py-4 w-full max-w-lg" fxLayout="column"
                  [formGroup]="form">
                <div fxLayout="column" fxFlex formGroupName="info">
                    <mat-form-field fxFlex="auto" appearance="standard">
                        <mat-label>Vorname</mat-label>
                        <input matInput formControlName="firstName">
                        <div fxLayout matSuffix>
                            <button (click)="form.get('info.firstName').disabled ?  onActivateForm('firstName') : onDeactivateForm('firstName') "
                                    [matTooltip]="form.get('info.firstName').disabled ? 'Bearbeiten' : 'Speichern'"
                                    class="font-xs" mat-icon-button matSuffix
                                    type="button">
                                <mat-icon>
                                    {{form.get('info.firstName').disabled ? 'edit' : 'save' }}
                                </mat-icon>
                            </button>
                        </div>
                    </mat-form-field>
                    <mat-form-field fxFlex="auto" appearance="standard">
                        <mat-label>Nachname</mat-label>
                        <input matInput required formControlName="lastName">
                        <div fxLayout matSuffix>
                            <button
                                    (click)="form.get('info.lastName').disabled ?  onActivateForm('lastName') : onDeactivateForm('lastName') "
                                    [matTooltip]="form.get('info.lastName').disabled ? 'Bearbeiten' : 'Speichern'"
                                    class="font-xs" mat-icon-button
                                    matSuffix type="button">
                                <mat-icon>
                                    {{form.get('info.lastName').disabled ? 'edit' : 'save'}}
                                </mat-icon>
                            </button>
                        </div>
                    </mat-form-field>
                    <mat-form-field fxFlex="auto" appearance="standard">
                        <mat-label>E-Mail</mat-label>
                        <input matInput required formControlName="email">
                        <div fxLayout matSuffix>
                            <button
                                    (click)="form.get('info.email').disabled ?  onActivateForm('email') : onDeactivateForm('email')"
                                    [matTooltip]="form.get('info.email').disabled ? 'Bearbeiten' : 'Speichern'"
                                    class="font-xs" mat-icon-button
                                    matSuffix type="button">
                                <mat-icon>
                                    {{form.get('info.email').disabled ? 'edit' : 'save'}}
                                </mat-icon>

                            </button>
                        </div>
                    </mat-form-field>
                </div>


                <mat-form-field fxFlex="auto" appearance="standard">
                    <mat-label>Passwort ändern</mat-label>
                    <input [type]="inputType" matInput formControlName="password">
                    <div matSuffix fxLayout="row">
                        <button (click)="togglePassword()" mat-icon-button type="button">
                            <mat-icon *ngIf="visible">visibility</mat-icon>
                            <mat-icon *ngIf="!visible">visibility_off</mat-icon>
                        </button>
                        <button *ngIf="form.get('password').value !== ''" mat-icon-button
                                type="button">
                            <mat-icon>save</mat-icon>
                        </button>
                    </div>

                    <!--                                            <mat-error *ngIf="form.get('password').value && !form.get('password').valid">Oops, das Password erfüllt nicht unsere Anforderungen.</mat-error>-->
                </mat-form-field>


                <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="8px">
                    <button [color]="!isLoading ? 'primary' : null" mat-flat-button
                            type="submit">
                        <div *ngIf="isLoading" class="h-10 w-full" fxLayout="row"
                             fxLayoutAlign="center center">
                            <mat-spinner color="accent" diameter="25"></mat-spinner>
                        </div>
                        <span *ngIf="!isLoading">SPEICHERN</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
